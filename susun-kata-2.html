<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latar Belakang Angka di Canvas</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
	<link rel="icon" type="image/x-icon" href="https://lh3.googleusercontent.com/d/1_4llqCMNoBDmwDHsI7RYsCM6rSK5wEjw">
    <style>
        /* Mendefinisikan variabel CSS */
        :root {
            --white: #FFFFFF;
        }

        /* CSS umum untuk body dan canvas permainan */
        body {
            text-align: center;
            font-family: 'Open Sans', sans-serif;
            padding: 20px;
            min-height: 100vh;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            -webkit-user-select: none;
            user-select: none;
            overflow: hidden; /* Penting untuk mencegah scroll */
            background-color: #f0f0f0; /* Warna fallback jika canvas belum terload */
        }

        /* Gaya untuk canvas roda permainan */
        canvas#wheel { /* Pastikan hanya berlaku untuk canvas roda */
            border-radius: 50%;
            border: 8px solid var(--white);
            box-shadow: 0 15px 35px rgba(0,0,0,0.2), 0 0 0 10px rgba(255,255,255,0.1), 0 0 0 15px rgba(255,255,255,0.05);
            transition: all 0.5s ease;
            display: block; /* Pastikan tampil sebagai blok */
        }

        /* Gaya khusus untuk canvas latar belakang angka */
        canvas#numberCanvas {
            position: fixed; /* Penting agar canvas menutupi seluruh viewport */
            top: 0;
            left: 0;
            width: 100vw;   /* Memastikan lebar 100% viewport */
            height: 100vh;  /* Memastikan tinggi 100% viewport */
            z-index: -1;    /* Menempatkan canvas di belakang semua konten lain */
            display: block; /* Pastikan tampil sebagai blok */
            background-color: #f0f0f0; /* Warna fallback untuk canvas latar belakang */
        }

        h1 {
            font-family: 'Fredoka One', cursive;
            font-size: clamp(6rem, 6vw, 6rem);
            color: #d9534f;
            /* === AWAL PERUBAHAN UNTUK STROKE PUTIH TEBAL === */
            text-shadow:
                /* White stroke, 4px thickness in all directions */
                -4px -4px 0 var(--white),
                4px -4px 0 var(--white),
                -4px 4px 0 var(--white),
                4px 4px 0 var(--white),
                0 -4px 0 var(--white),
                0 4px 0 var(--white),
                -4px 0 0 var(--white),
                4px 0 0 var(--white),
                /* Black shadow for depth, shifted */
                6px 6px 0 #000000;
            /* === AKHIR PERUBAHAN UNTUK STROKE PUTIH TEBAL === */
            margin-bottom: 1rem;
        }

        h2 {
            font-family: 'Fredoka One', cursive; /* Font judul menarik */
            color: black; /* Warna merah cerah */
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        /* --- STYLE DASAR GAME YANG ADA --- */
        #welcome-screen {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
        }
        /* START: Perubahan untuk menempatkan gambar di samping H1 */
        .welcome-title-group {
            display: flex;
            align-items: center; /* Menyelaraskan item secara vertikal di tengah */
            justify-content: center; /* Pusatkan secara horizontal */
            /* gap: 20px; */ /* Jarak antara gambar dan teks, tidak diperlukan karena gambar diabs-pos */
            margin-bottom: 10px; /* Sesuaikan margin bawah */	
            padding-left: 20px; /* Membuat ruang untuk gambar di sebelah kiri H1 */
            padding-right: 10px; /* Opsional: menyeimbangkan padding */
            box-sizing: border-box; /* Memastikan padding termasuk dalam lebar */
        }

        .welcome-image {
            position: absolute; /* Mengangkat gambar dari flow normal */
            z-index: -1;    /* Menempatkan gambar di belakang teks */
            left: 0;        /* Posisikan di tepi kiri welcome-title-group */
            top: 50%;       /* Posisikan di tengah secara vertikal */
            transform: translateY(-50%); /* Menyesuaikan posisi vertikal agar presisi */
            max-width: 500px; /* Sesuaikan ukuran gambar */
            height: auto;
            object-fit: contain;
            filter: drop-shadow(3px 3px 2px rgba(0,0,0,0.3)); /* Tambahkan bayangan untuk kesan lebih hidup */
        }

        #welcome-screen .welcome-title-group h1 { /* Target h1 di dalam welcome-title-group */
            font-size: clamp(3rem, 5vw, 4rem); /* Sesuaikan ukuran font agar lebih pas dengan gambar */
            margin-bottom: 0; /* Hapus margin bawah default h1 di sini */
        }
        /* END: Perubahan untuk menempatkan gambar di samping H1 */

        #welcome-screen p {
            font-size: 1.2rem;
            color: #34495e;
            margin-top: -10px;
            margin-bottom: 40px;
        }
        .welcome-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        /* Latar Belakang Gelembung */
        .bubble {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            animation: bubble-float 15s infinite ease-in-out;
            opacity: 0;
        }
        .bubble:nth-child(1) { width: 60px; height: 60px; left: 10%; animation-duration: 12s; animation-delay: 0s; }
        .bubble:nth-child(2) { width: 80px; height: 80px; left: 30%; animation-duration: 15s; animation-delay: 2s; }
        .bubble:nth-child(3) { width: 280px; height: 280px; left: 50%; animation-duration: 10s; animation-delay: 1s; }
        .bubble:nth-child(4) { width: 70px; height: 70px; left: 70%; animation-duration: 13s; animation-delay: 3s; }
        .bubble:nth-child(5) { width: 300px; height: 300px; left: 90%; animation-duration: 16s; animation-delay: 4s; }
        .bubble:nth-child(6) { width: 65px; height: 65px; left: 20%; animation-duration: 11s; animation-delay: 0.5s; }
        .bubble:nth-child(7) { width: 75px; height: 75px; left: 45%; animation-duration: 14s; animation-delay: 2.5s; }

        @keyframes bubble-float {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateY(-10vh) scale(1.2); opacity: 0; }
        }

        .welcome-btn, #startButton {
            padding: 12px 25px;
            font-size: 1rem;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: all 0.2s ease-out;
            font-weight: bold;
        }
        #startButton {
            background: linear-gradient(45deg, #2ecc71, #27ae60);
            padding: 15px 40px;
            font-size: 1.2rem;
            text-transform: uppercase;
        }
        .welcome-btn {
            background: linear-gradient(45deg, #3498db, #2980b9);
        }
        #startButton:hover, .welcome-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.25);
        }

        /* --- CONTAINER GAME --- */
        #game-container {
            display: none; /* Sembunyikan game secara default */
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        /* --- RODA & TOMBOL PUTAR --- */
        .wheel-container {
            position: relative; display: inline-block; perspective: 1000px; margin: 30px 0;
        }
        /* Style untuk canvas roda sudah dipindahkan ke atas dengan ID selector */
        .pointer {
            position: absolute; top: -25px; left: 50%; transform: translateX(-50%);
            width: 40px; height: 60px; background: #e74c3c; clip-path: polygon(50% 100%, 0 0, 100% 0);
            z-index: 10; box-shadow: 0 -5px 15px rgba(0,0,0,0.2);
        }
        #spinBtn {
            margin-top: 30px; padding: 15px 40px; font-size: 18px; background: linear-gradient(45deg, #2ecc71, #27ae60);
            color: white; border: none; border-radius: 50px; cursor: pointer;
            box-shadow: 0 8px 15px rgba(46, 204, 113, 0.3); transition: all 0.2s ease-out;
            font-weight: bold; letter-spacing: 1px; text-transform: uppercase;
        }
        #spinBtn:hover { transform: translateY(-4px); box-shadow: 0 12px 20px rgba(46, 204, 113, 0.4); }

        /* --- MODAL --- */
        .modal {
            display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.7); backdrop-filter: blur(5px); animation: fadeIn 0.3s ease;
            align-items: center; justify-content: center;
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .modal-content {
            margin: 5% auto; padding: 30px; border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3); width: 90%; max-width: 600px;
            position: relative;
        }
        #myModal .modal-content {
            background: linear-gradient(to bottom, #87CEEB, #E0F6FF);
            height: 90%; max-height: 500px; display: flex; flex-direction: column;
        }
        .info-modal .modal-content {
            background: linear-gradient(to bottom, #ffffff, #eef2f3); color: #333; text-align: left;
        }
        .info-modal h2 { text-align: center; color: #2c3e50; margin-top: 0; }
        .info-modal ul { padding-left: 20px; }
        .info-modal li { margin-bottom: 10px; }
        .close {
            color: #aaa; font-size: 32px; font-weight: bold; cursor: pointer; transition: all 0.2s ease;
            position: absolute; top: 10px; right: 20px; z-index: 20;
        }
        .close:hover, .close:focus { color: #e74c3c; transform: rotate(90deg) scale(1.2); }

        /* --- STYLE GAME --- */
        #game-area { flex-grow: 1; position: relative; width: 100%; overflow-y: auto; overflow-x: hidden; padding-top: 20px; box-sizing: border-box; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        #current-object-image { position: absolute; top: 10px; left: 50%; transform: translateX(-50%); max-width: 100px; max-height: 100px; opacity: 0.6; z-index: 1; }
        .letter { position: absolute; font-family: 'Fredoka One', cursive, sans-serif; font-size: 2em; color: #2980b9; background-color: white; padding: 10px; width: 40px; height: 40px; display: flex; justify-content: center; align-items: center; border-radius: 10px; box-shadow: 0 4px 0 #bdc3c7; cursor: pointer; user-select: none; animation: fall linear; z-index: 10; }
        @keyframes fall { from { top: 120px; } to { top: 105%; } }
        #word-display-area { display: flex; gap: 10px; justify-content: center; padding: 20px 0; }
        .letter-box { width: 50px; height: 60px; background-color: rgba(255, 255, 255, 0.7); border-bottom: 5px solid #bdc3c7; border-radius: 10px; display: flex; justify-content: center; align-items: center; font-family: 'Fredoka One', cursive, sans-serif; font-size: 2.5em; color: #2c3e50; }
        #choices-area { display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 15px; width: 100%; }
        .choice-button { background: linear-gradient(135deg, #3498db, #2980b9); color: white; border: none; border-radius: 12px; padding: 15px; width: 90%; font-size: 1rem; cursor: pointer; box-shadow: 0 5px 15px rgba(41, 128, 185, 0.3); transition: all 0.3s ease; text-align: left; }
        .choice-button:hover { transform: translateY(-5px) scale(1.02); }
        .choice-button.correct { background: #2ecc71; transform: scale(1.05); border: 3px solid white;}
        .choice-button.incorrect { background: #e74c3c; }
        .choice-button.disabled { pointer-events: none; opacity: 0.7; }
        #info-panel { display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; font-family: 'Fredoka One', cursive, sans-serif; color: #2c3e50; }
        #round-display, #lives-display { font-size: 1.5rem; }
        .timer { font-size: 1.5rem; }
        .timer-progress { height: 8px; background: linear-gradient(90deg, #2ecc71, #f39c12, #e74c3c); border-radius: 10px; transition: width 1s linear; width: 100%; }
        .timer.flash { animation: flash 0.5s infinite alternate; }
        @keyframes flash { from { color: #2c3e50; } to { color: #e74c3c; } }
        .confetti { position: fixed; width: 15px; height: 15px; background-color: #f00; animation: confetti-fall 3s linear forwards; z-index: 9999; pointer-events: none; }
        @keyframes confetti-fall { to { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
        .alert-message { text-align: center; font-size: 1.2rem; font-weight: bold; padding: 10px; color: #2c3e50; min-height: 27px; }
        .custom-alert-overlay { visibility: hidden; opacity: 0; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); z-index: 9998; display: flex; justify-content: center; align-items: center; transition: visibility 0s 0.3s, opacity 0.3s ease; }
        .custom-alert-overlay.show { visibility: visible; opacity: 1; transition: opacity 0.3s ease; }
        .custom-alert-box { color: white; padding: 30px 40px; border-radius: 15px; text-align: center; font-size: 1.2rem; font-weight: bold; box-shadow: 0 10px 30px rgba(0,0,0,0.3); max-width: 80%; transform: scale(0.7); transition: transform 0.3s ease-out; line-height: 1.6; }
        .custom-alert-box.success { background: linear-gradient(135deg, #2ecc71, #28b463); }
        .custom-alert-box.failure { background: linear-gradient(135deg, #e74c3c, #c0392b); }
        .custom-alert-box.info { background: linear-gradient(135deg, #3498db, #2980b9); }
        .custom-alert-overlay.show .custom-alert-box { transform: scale(1); }

        /* --- STYLE BABAK 3: CARI KATA --- */
        .word-search-container { display: flex; flex-direction: column; align-items: center; width: 100%; gap: 15px; }
        .target-images-container { display: flex; justify-content: center; gap: 20px; margin-bottom: 10px; flex-wrap: wrap; }
        .target-image { width: 50px; height: 50px; object-fit: contain; background: rgba(255,255,255,0.5); padding: 5px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .target-image.found { filter: grayscale(100%); opacity: 0.5; transition: all 0.3s; }
        .word-search-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 2px;
            background-color: #bdc3c7;
            padding: 5px;
            border-radius: 10px;
            touch-action: none;
        }
        .grid-cell {
            width: 32px; height: 32px; background-color: white; color: #2c3e50;
            display: flex; justify-content: center; align-items: center;
            font-size: 1.2rem; font-weight: bold; cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
        }
        .grid-cell.selected { background-color: #f1c40f; transform: scale(1.1); }
        .grid-cell.found { background-color: #2ecc71; color: white; }
        @media (max-width: 400px) {
            .grid-cell { width: 28px; height: 28px; font-size: 1rem; }
            .target-image { width: 40px; height: 40px; }
        }

        /* --- BARU: Style untuk Efek 3D Profile --- */
        .profile-pic-container {
            perspective: 1000px; /* Penting untuk menciptakan ruang 3D */
            border-radius: 50%;
            flex-shrink: 0;
            margin-right: 20px;
            overflow: hidden;
        }

        .profile-pic-container img {
            transition: transform 0.2s ease-out; /* Animasi halus saat mouse bergerak */
            width: 150px;
            height: 300px; /* Dibuat persegi agar lingkaran sempurna */
            object-fit: cover; /* Menjaga aspek rasio gambar asli */
            display: block;
        }

        /* --- BARU: Efek Hover untuk Ikon Media Sosial --- */
        #pengembangModal .fab {
            transition: transform 0.3s ease, color 0.3s ease; /* Transisi halus */
        }

        #pengembangModal .fab:hover {
            color: #F1C40F; /* Warna berubah menjadi kuning saat disentuh mouse */
            animation: icon-wobble 0.6s ease-in-out; /* Menerapkan animasi bergoyang */
        }

        /* Animasi untuk efek bergoyang */
        @keyframes icon-wobble {
            0% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(-15deg) scale(1.1); }
            50% { transform: rotate(10deg) scale(1.1); }
            75% { transform: rotate(-5deg) scale(1.1); }
            100% { transform: rotate(0deg) scale(1); }
        }
        /* Style untuk gambar baru di sebelah kanan */
        .modal-bg-image {
            position: absolute;
            right: 10px; /* Sedikit digeser ke kanan agar lebih fokus ke bagian wajah */
            top: 0;
            height: 100%;
            opacity: 0.15; /* Membuat gambar sangat transparan */
            pointer-events: none; /* Penting! Agar gambar tidak bisa di-klik dan tidak menghalangi konten di depannya */
            z-index: 1; /* Posisikan di belakang konten utama */
        }

        /* Konten utama (teks & foto kiri) diposisikan di atas gambar latar */
        .modal-main-content {
            position: relative;
            z-index: 2; /* Pastikan konten ini ada di lapisan atas */
            display: flex;
            align-items: center;
            width: 100%;
        }
    </style>
</head>
<body>
    <canvas id="numberCanvas"></canvas>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>

    <div id="welcome-screen">
        <div class="welcome-title-group">
            <img src="https://lh3.googleusercontent.com/d/1ika4en9PFUa6aRIXKDbvQzil6bxIO5E9" alt="bangbin" class="welcome-image">
            <h1>TEKA KATA GEMBIRA</h1>
        </div>
        <p>Selamat datang Anak Hebat</p>
        <button id="startButton">Mulai Bermain</button>
        <div class="welcome-buttons">
            <button id="petunjukBtn" class="welcome-btn">Petunjuk</button>
            <button id="tujuanBtn" class="welcome-btn">Tujuan Pembelajaran</button>
            <button id="pengembangBtn" class="welcome-btn">Pengembang</button>
			<a href="index.html"><button id="btn-homeBangbin" class="welcome-btn"><i class="fa fa-home"></i> </button></a>
        </div>
    </div>

    <div id="game-container">
        <h1>Teka Kata Interaktif</h1>
        <div class="wheel-container">
            <div class="pointer"></div>
            <button id="spinBtn">Putar Roda</button>
            <canvas id="wheel" width="400" height="400"></canvas>
        </div>

    </div>

    <div id="petunjukModal" class="modal info-modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Petunjuk Permainan</h2>
            <ul>
                <li>Klik tombol "Mulai Bermain" untuk masuk ke permainan.</li>
                <li>Klik tombol "Putar Roda" untuk memulai permainan dari Babak 1.</li>
                <li><b>Babak 1 (Menangkap Huruf):</b> Susun kata berdasarkan gambar yang muncul.</li>
                <li><b>Babak 2 (Memilih Kalimat):</b> Setelah lolos Babak 1, pilih kalimat yang benar sesuai gambar.</li>
                <li><b>Babak 3 (Cari Kata):</b> Setelah lolos Babak 2, cari 3 kata tersembunyi.</li>
                <li>Selesaikan semua babak untuk menamatkan permainan. Selamat bermain!</li>
            </ul>
        </div>
    </div>

    <div id="tujuanModal" class="modal info-modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Tujuan Pembelajaran</h2>
            <p>Permainan ini dirancang untuk membantu pemain, khususnya anak-anak, dalam mencapai tujuan berikut:</p>
            <ul>
                <li>Meningkatkan kemampuan mengenal dan menyusun huruf menjadi kata benda.</li>
                <li>Melatih pemahaman konteks penggunaan kata dalam sebuah kalimat.</li>
                <li>Mengembangkan kemampuan observasi dan pencarian visual (visual scanning).</li>
                <li>Mengembangkan koordinasi mata dan tangan serta kecepatan reaksi.</li>
                <li>Menjadikan proses belajar kosakata lebih menyenangkan dan interaktif.</li>
            </ul>
        </div>
    </div>

    <div id="pengembangModal" class="modal">
        <div class="modal-content" style="background: linear-gradient(135deg, #4e54c8, #8f94fb); max-width: 700px; padding: 25px;">
            <span class="close">×</span>
            <div style="display: flex; align-items: center; width: 100%;">
                <img src="https://lh3.googleusercontent.com/d/1ivUN8B8xdd4R8Kef_-wEqNx56_eeUv4w" alt="Background" class="modal-bg-image">
                <div class="profile-pic-container">
                    <img src="https://lh3.googleusercontent.com/d/1tFGMHXxFlkz5Ij0nHbxddt4aF-MfnTio" alt="Foto Profil">
                </div>

                <div style="color: white; text-align: left; flex-grow: 1;">
                    <h2 style="margin: 0; font-size: 1.5em;">BINTANG ADHI PERMANA</h2>
                    <p style="margin: 5px 0; font-size: 0.9em;">SDN Lubang Buaya 01, Jakarta Timur</p>
                    <p style="margin: 10px 0 5px 0; font-weight: bold; font-size: 0.9em;">Kontak:</p>
                    <div style="font-size: 1.8em;">
                        <a href="https://www.facebook.com/bintang.a.permana.1/" target="_blank" style="margin-right: 15px; color: white; text-decoration: none;"><i class="fab fa-facebook"></i></a>
                        <a href="https://www.youtube.com/@Bangbin_1" target="_blank" style="margin-right: 15px; color: white; text-decoration: none;"><i class="fab fa-youtube"></i></a>
                        <a href="https://wa.me/6281310051985" target="_blank" style="color: white; text-decoration: none;"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="info-panel">
                <div id="round-display"></div>
                <div id="lives-display"></div>
                <div style="text-align: right;">
                    <div class="timer" id="timer"></div>
                    <div class="timer-progress" id="timerProgress"></div>
                </div>
            </div>
            <div id="game-area"></div>
            <div id="word-display-area"></div>
            <div id="alertMessage" class="alert-message"></div>
        </div>
    </div>

    <div id="transition-alert" class="custom-alert-overlay">
        <div class="custom-alert-box" id="transition-alert-content"></div>
    </div>

    <audio id="spinSound" src="https://actions.google.com/sounds/v1/cartoon/woodpecker.ogg" preload="auto"></audio>
    <audio id="tickSound" src="https://actions.google.com/sounds/v1/timers/tick_and_tock.ogg" preload="auto"></audio>
    <audio id="successSound" src="https://actions.google.com/sounds/v1/crowds/battle_crowd_celebrate_stutter.ogg" preload="auto"></audio>
    <audio id="timeoutSound" src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg" preload="auto"></audio>
    <audio id="clickSound" src="https://actions.google.com/sounds/v1/cartoon/cartoon_boing.ogg" preload="auto"></audio>
    <audio id="wrongSound" src="https://actions.google.com/sounds/v1/cartoon/metal_twang.ogg" preload="auto"></audio>
    <audio id="foundSound" src="https://actions.google.com/sounds/v1/general/reward.ogg" preload="auto"></audio>

    <script>
        // --- VARIABEL & ELEMEN GLOBAL ---
        const welcomeScreen = document.getElementById('welcome-screen');
        const gameContainer = document.getElementById('game-container');
        const startButton = document.getElementById('startButton');
        const petunjukModal = document.getElementById('petunjukModal');
        const tujuanModal = document.getElementById('tujuanModal');
        const pengembangModal = document.getElementById('pengembangModal');
        const petunjukBtn = document.getElementById('petunjukBtn');
        const tujuanBtn = document.getElementById('tujuanBtn');
        const pengembangBtn = document.getElementById('pengembangBtn');
        const allCloseButtons = document.querySelectorAll('.close');
        const canvasWheel = document.getElementById('wheel'); // Ubah nama variabel agar tidak konflik
        const ctxWheel = canvasWheel.getContext('2d'); // Konteks untuk roda
        const spinBtn = document.getElementById('spinBtn');
        const modal = document.getElementById("myModal");
        const gameArea = document.getElementById('game-area');
        const wordDisplayArea = document.getElementById('word-display-area');
        const roundDisplay = document.getElementById('round-display');
        const livesDisplay = document.getElementById('lives-display');
        const timerDiv = document.getElementById("timer");
        const timerProgress = document.getElementById("timerProgress");
        const alertMessageDiv = document.getElementById("alertMessage");
        const transitionAlert = document.getElementById('transition-alert');
        const transitionAlertContent = document.getElementById('transition-alert-content');
        const spinSound = document.getElementById('spinSound');
        const tickSound = document.getElementById('tickSound');
        const successSound = document.getElementById('successSound');
        const timeoutSound = document.getElementById('timeoutSound');
        const clickSound = document.getElementById('clickSound');
        const wrongSound = document.getElementById('wrongSound');
        const foundSound = document.getElementById('foundSound');

        // --- ASET GAME ---
        const segments = [
            { text: 'BAJU', img: 'https://cdn-icons-png.flaticon.com/512/892/892458.png', level2_choices: [{ sentence: "Ibu menjahit **baju** baru untuk adik.", correct: true }, { sentence: "Kakek sedang membaca koran di teras.", correct: false }]},
            { text: 'PENSIL', img: 'https://cdn-icons-png.flaticon.com/512/732/732391.png', level2_choices: [{ sentence: "Ujung **pensil** ini tumpul dan harus diraut.", correct: true }, { sentence: "Pesawat itu terbang sangat tinggi.", correct: false }]},
            { text: 'BUKU', img: 'https://cdn-icons-png.flaticon.com/512/5832/5832416.png', level2_choices: [{ sentence: "Perpustakaan adalah tempat meminjam **buku**.", correct: true }, { sentence: "Saya suka makan buah apel.", correct: false }]},
            { text: 'PAYUNG', img: 'https://cdn-icons-png.flaticon.com/512/10668/10668792.png', level2_choices: [{ sentence: "Bawalah **payung** agar tidak kehujanan.", correct: true }, { sentence: "Anak-anak bermain layangan di lapangan.", correct: false }]},
            { text: 'MOBIL', img: 'https://cdn-icons-png.flaticon.com/512/3097/3097180.png', level2_choices: [{ sentence: "Ayah mencuci **mobil** di halaman rumah.", correct: true }, { sentence: "Gajah adalah hewan yang sangat besar.", correct: false }]},
            { text: 'RUMAH', img: 'https://cdn-icons-png.flaticon.com/512/609/609803.png', level2_choices: [{ sentence: "**Rumah** kami dicat dengan warna biru.", correct: true }, { sentence: "Dokter memeriksa pasien dengan stetoskop.", correct: false }]}
        ];

        const segmentColors = ["#f1c40f", "#e67e22", "#e74c3c", "#9b59b6", "#3498db", "#1abc9c"];
        const loadedImages = [];
        const centerX = canvasWheel.width / 2; // Gunakan canvasWheel
        const centerY = canvasWheel.height / 2; // Gunakan canvasWheel
        const radius = canvasWheel.width / 2 - 10; // Gunakan canvasWheel
        let angle = 0;
        let spinning = false;
        let currentRound = 1;
        let currentSegment;
        let countdown;
        let letterInterval;

        // --- Variabel Babak 3 ---
        let wordsToFind_Level3 = [];
        let foundWords_Level3 = [];
        let isSelecting = false;
        let selectedCells = [];
        let lastCell;

        // --- FUNGSI ALUR PERMAINAN UTAMA ---
        function spin() {
            if (spinning) return;
            spinning = true;
            spinSound.currentTime = 0; spinSound.play();
            const spinAngle = Math.random() * 360 + 720 * 5;
            const duration = 4000;
            const startTime = Date.now();

            function animate() {
                const elapsed = Date.now() - startTime;
                if (elapsed < duration) {
                    const progress = easeOutCubic(elapsed / duration);
                    angle = (progress * spinAngle * Math.PI) / 180;
                    drawWheel();
                    requestAnimationFrame(animate);
                } else {
                    spinning = false;
                    spinSound.pause();
                    const finalAngle = angle % (2 * Math.PI);
                    const arc = (2 * Math.PI) / segments.length;
                    const pointerAngle = (3 * Math.PI / 2 - finalAngle + 2 * Math.PI) % (2 * Math.PI);
                    const index = Math.floor(pointerAngle / arc);
                    currentSegment = segments[index];
                    currentRound = 1;
                    startGame_Level1();
                }
            }
            animate();
        }

        // --- BABAK 1 ---
        function startGame_Level1() {
            prepareModalForLevel(1);
            let lives = 3;
            let lettersToGuess = currentSegment.text.split('');
            let guessedLettersCount = 0;
            updateInfoPanel(1, lives);
            setupWordDisplay_Level1();
            startTimer(30, () => endGame_Level1(false));
            letterInterval = setInterval(() => {
                createFallingLetter(lettersToGuess, (isCorrect) => {
                    if (isCorrect) {
                        guessedLettersCount++;
                        if (guessedLettersCount === currentSegment.text.length) {
                            endGame_Level1(true);
                        }
                    } else {
                        lives--;
                        updateInfoPanel(1, lives);
                        if (lives <= 0) {
                            endGame_Level1(false);
                        }
                    }
                });
            }, 1200);
        }

        function endGame_Level1(isWin) {
            resetAllIntervals();
            if (isWin) {
                successSound.currentTime = 0; successSound.play();
                showCustomAlert('info', `Selamat! Babak 1 Selesai.<br>Bersiap untuk Babak 2!`, 2000);
                setTimeout(startGame_Level2, 2100);
            } else {
                modal.style.display = "none";
                timeoutSound.currentTime = 0; timeoutSound.play();
                showCustomAlert('failure', `Anda Gagal! Kata yang benar: ${currentSegment.text}.<br>Putar roda untuk mencoba lagi.`);
            }
        }

        // --- BABAK 2 ---
        function startGame_Level2() {
            prepareModalForLevel(2);
            updateInfoPanel(2);
            setupChoices_Level2();
            startTimer(20, () => endGame_Level2(false));
        }

        function endGame_Level2(isWin) {
            resetAllIntervals();
            if (isWin) {
                successSound.currentTime = 0; successSound.play();
                showCustomAlert('info', `Luar Biasa! Babak 2 Selesai.<br>Bersiap untuk Babak Final!`, 2000);
                setTimeout(startGame_Level3, 2100);
            } else {
                modal.style.display = "none";
                wrongSound.currentTime = 0; wrongSound.play();
                showCustomAlert('failure', `Anda Gagal di Babak 2.<br>Putar roda untuk mencoba lagi.`);
            }
        }

        // --- BABAK 3 ---
        function startGame_Level3() {
            prepareModalForLevel(3);
            updateInfoPanel(3);
            const shuffledSegments = [...segments].sort(() => 0.5 - Math.random());
            wordsToFind_Level3 = shuffledSegments.slice(0, 3);
            foundWords_Level3 = [];
            const grid_size = 10;
            const grid = generateWordSearchGrid(wordsToFind_Level3.map(w => w.text), grid_size);
            renderWordSearchUI(grid);
            startTimer(60, () => endGame_Level3(false));
        }

        function endGame_Level3(isWin) {
            resetAllIntervals();
            modal.style.display = "none";

            if (isWin) {
                successSound.currentTime = 0; successSound.play();
                createConfetti();
                showCustomAlert('success', `SELAMAT, KAMU HEBAT! KAMU TELAH MENYELESAIKAN SEMUA TANTANGAN.<br>KAMU HEBAT!`, 4000);
                setTimeout(() => {
                    gameContainer.style.display = 'none';
                    welcomeScreen.style.display = 'flex';
                }, 4100);
            } else {
                timeoutSound.currentTime = 0; timeoutSound.play();
                const remaining = wordsToFind_Level3.map(w => w.text).filter(w => !foundWords_Level3.includes(w));
                showCustomAlert('failure', `Waktu Habis! Kata tersisa: ${remaining.join(', ')}.<br>Putar roda untuk mencoba lagi.`);
            }
        }

        // --- FUNGSI-FUNGSI PEMBANTU ---
        function prepareModalForLevel(level) {
            modal.style.display = "block";
            gameArea.innerHTML = '';
            wordDisplayArea.innerHTML = '';
            alertMessageDiv.innerHTML = '';
            livesDisplay.style.display = 'none';
            wordDisplayArea.style.display = 'none';
            gameArea.style.paddingTop = '20px';

            if (level === 1) {
                gameArea.style.paddingTop = '120px';
                gameArea.innerHTML = `<img id="current-object-image" src="${currentSegment.img}" alt="Objek">`;
                alertMessageDiv.innerHTML = 'Tangkap huruf yang benar!';
                livesDisplay.style.display = 'block';
                wordDisplayArea.style.display = 'flex';
            } else if (level === 2) {
                gameArea.innerHTML = `<img src="${currentSegment.img}" alt="Petunjuk" style="max-height: 100px; margin-bottom: 20px;">`;
                alertMessageDiv.innerHTML = `Pilih kalimat yang mengandung kata: <b>${currentSegment.text}</b>`;
            } else if (level === 3) {
                alertMessageDiv.innerHTML = 'Temukan 3 kata tersembunyi!';
            }
        }
        function updateInfoPanel(round, lives, time, initialDuration) {
            currentRound = round;
            roundDisplay.textContent = `Babak ${round}`;
            if (lives !== null && lives !== undefined) {
                livesDisplay.innerHTML = `NYAWA: ${'❤️'.repeat(lives)}`;
            }
            if (time !== undefined) {
                timerDiv.textContent = time;
                timerProgress.style.width = `${(time / initialDuration) * 100}%`;
            }
        }
        function setupWordDisplay_Level1() {
            wordDisplayArea.innerHTML = '';
            currentSegment.text.split('').forEach((_, i) => {
                const box = document.createElement('div');
                box.className = 'letter-box';
                box.dataset.letterIndex = i;
                wordDisplayArea.appendChild(box);
            });
        }
        function createFallingLetter(lettersToGuess, onResult) {
            const letter = document.createElement('div');
            letter.className = 'letter';
            const isCorrectLetter = Math.random() > 0.4;
            let char;
            let neededLetters = lettersToGuess.filter((val, i) => !wordDisplayArea.querySelector(`[data-letter-index='${i}']`).textContent);
            if (isCorrectLetter && neededLetters.length > 0) {
                char = neededLetters[Math.floor(Math.random() * neededLetters.length)];
            } else {
                char = String.fromCharCode(65 + Math.floor(Math.random() * 26));
            }
            letter.textContent = char;
            letter.style.left = `${Math.random() * (gameArea.clientWidth - 50)}px`;
            const fallDuration = 4 + Math.random() * 3;
            letter.style.animationDuration = `${fallDuration}s`;
            letter.addEventListener('click', () => {
                let found = false;
                for (let i = 0; i < lettersToGuess.length; i++) {
                    const box = wordDisplayArea.querySelector(`[data-letter-index='${i}']`);
                    if (lettersToGuess[i] === char && box && box.textContent === '') {
                        clickSound.currentTime = 0; clickSound.play();
                        box.textContent = char;
                        found = true;
                        onResult(true);
                        break;
                    }
                }
                if (!found) { wrongSound.currentTime = 0; wrongSound.play(); onResult(false); }
                letter.remove();
            });
            gameArea.appendChild(letter);
            setTimeout(() => { if (letter.parentElement) letter.remove(); }, fallDuration * 1000);
        }
        function setupChoices_Level2() {
            const choicesArea = document.createElement('div');
            choicesArea.id = 'choices-area';
            gameArea.appendChild(choicesArea);
            const shuffledChoices = [...currentSegment.level2_choices].sort(() => Math.random() - 0.5);
            shuffledChoices.forEach(choice => {
                const button = document.createElement('button');
                button.className = 'choice-button';
                button.innerHTML = choice.sentence.replace(/\*\*(.*?)\*\*/g, '<b>$1</b>');
                button.onclick = () => handleChoiceClick(choice.correct, button, choicesArea);
                choicesArea.appendChild(button);
            });
        }
        function handleChoiceClick(isCorrect, clickedButton, choicesArea) {
            resetAllIntervals();
            choicesArea.querySelectorAll('.choice-button').forEach(btn => btn.classList.add('disabled'));
            if (isCorrect) {
                clickedButton.classList.add('correct');
                endGame_Level2(true);
            } else {
                clickedButton.classList.add('incorrect');
                setTimeout(() => endGame_Level2(false), 1000);
            }
        }
        function generateWordSearchGrid(words, size) {
            let grid = Array(size).fill(null).map(() => Array(size).fill(''));
            const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            words.forEach(word => {
                let placed = false;
                let attempts = 0;
                while (!placed && attempts < 50) {
                    const direction = Math.random() < 0.5 ? 'horizontal' : 'vertical';
                    let row = Math.floor(Math.random() * size);
                    let col = Math.floor(Math.random() * size);
                    if (direction === 'horizontal' && col + word.length <= size) {
                        let canPlace = true;
                        for (let i = 0; i < word.length; i++) { if (grid[row][col + i] !== '') { canPlace = false; break; } }
                        if (canPlace) {
                            for (let i = 0; i < word.length; i++) { grid[row][col + i] = word[i]; }
                            placed = true;
                        }
                    } else if (direction === 'vertical' && row + word.length <= size) {
                        let canPlace = true;
                        for (let i = 0; i < word.length; i++) { if (grid[row + i][col] !== '') { canPlace = false; break; } }
                        if (canPlace) {
                            for (let i = 0; i < word.length; i++) { grid[row + i][col] = word[i]; }
                            placed = true;
                        }
                    }
                    attempts++;
                }
            });
            for (let r = 0; r < size; r++) {
                for (let c = 0; c < size; c++) {
                    if (grid[r][c] === '') { grid[r][c] = alphabet[Math.floor(Math.random() * alphabet.length)]; }
                }
            }
            return grid;
        }
        function renderWordSearchUI(grid) {
            const container = document.createElement('div');
            container.className = 'word-search-container';
            const imagesContainer = document.createElement('div');
            imagesContainer.className = 'target-images-container';
            wordsToFind_Level3.forEach(word => {
                const img = document.createElement('img');
                img.src = word.img;
                img.className = 'target-image';
                img.id = `target-img-${word.text}`;
                imagesContainer.appendChild(img);
            });
            const gridElement = document.createElement('div');
            gridElement.className = 'word-search-grid';
            grid.forEach((row, r) => {
                row.forEach((cell, c) => {
                    const cellDiv = document.createElement('div');
                    cellDiv.className = 'grid-cell';
                    cellDiv.textContent = cell;
                    cellDiv.dataset.row = r;
                    cellDiv.dataset.col = c;
                    gridElement.appendChild(cellDiv);
                });
            });
            container.appendChild(imagesContainer);
            container.appendChild(gridElement);
            gameArea.appendChild(container);
            gridElement.addEventListener('pointerdown', handleCellPointerDown);
        }
        function handleCellPointerDown(e) {
            if (!e.target.classList.contains('grid-cell') || e.target.classList.contains('found')) return;
            isSelecting = true;
            selectedCells = [e.target];
            lastCell = e.target;
            e.target.classList.add('selected');
            document.addEventListener('pointermove', handleDocumentPointerMove);
            document.addEventListener('pointerup', handleDocumentPointerUp);
        }
        function handleDocumentPointerMove(e) {
            if (!isSelecting) return;
            const currentCell = document.elementFromPoint(e.clientX, e.clientY);
            if (!currentCell || !currentCell.classList.contains('grid-cell') || currentCell === lastCell || currentCell.classList.contains('found')) {
                return;
            }
            lastCell = currentCell;
            selectedCells.forEach(cell => cell.classList.remove('selected'));
            const startCell = selectedCells[0];
            selectedCells = [startCell];
            startCell.classList.add('selected');
            const startRow = parseInt(startCell.dataset.row);
            const startCol = parseInt(startCell.dataset.col);
            const endRow = parseInt(currentCell.dataset.row);
            const endCol = parseInt(currentCell.dataset.col);
            if (startRow === endRow) {
                const dir = endCol > startCol ? 1 : -1;
                for (let c = startCol + dir; ; c += dir) {
                    const cell = document.querySelector(`.grid-cell[data-row='${startRow}'][data-col='${c}']`);
                    if (!cell || cell.classList.contains('found')) break;
                    selectedCells.push(cell);
                    if (c === endCol) break;
                }
            }
            else if (startCol === endCol) {
                const dir = endRow > startRow ? 1 : -1;
                for (let r = startRow + dir; ; r += dir) {
                    const cell = document.querySelector(`.grid-cell[data-row='${r}'][data-col='${startCol}']`);
                    if (!cell || cell.classList.contains('found')) break;
                    selectedCells.push(cell);
                    if (r === endRow) break;
                }
            }
            selectedCells.forEach(c => c.classList.add('selected'));
        }
        function handleDocumentPointerUp() {
            if (!isSelecting) return;
            isSelecting = false;
            const selectedWord = selectedCells.map(cell => cell.textContent).join('');
            const reversedWord = selectedWord.split('').reverse().join('');
            let match = wordsToFind_Level3.find(w => !foundWords_Level3.includes(w.text) && (w.text === selectedWord || w.text === reversedWord));
            if (match) {
                foundWords_Level3.push(match.text);
                selectedCells.forEach(cell => { cell.classList.remove('selected'); cell.classList.add('found'); });
                document.getElementById(`target-img-${match.text}`).classList.add('found');
                foundSound.currentTime = 0; foundSound.play();
                if (foundWords_Level3.length === wordsToFind_Level3.length) {
                    setTimeout(() => endGame_Level3(true), 500);
                }
            } else {
                selectedCells.forEach(cell => cell.classList.remove('selected'));
            }
            selectedCells = [];
            lastCell = null;
            document.removeEventListener('pointermove', handleDocumentPointerMove);
            document.removeEventListener('pointerup', handleDocumentPointerUp);
        }
        function showCustomAlert(type, message, duration = 3000) {
            transitionAlertContent.innerHTML = message;
            transitionAlertContent.className = 'custom-alert-box';
            transitionAlertContent.classList.add(type);
            transitionAlert.classList.add('show');
            setTimeout(() => {
                transitionAlert.classList.remove('show');
            }, duration);
        }
        function startTimer(duration, onTimeout) {
            resetAllIntervals();
            let timeLeft = duration;
            const initialDuration = duration;
            updateInfoPanel(currentRound, null, timeLeft, initialDuration);
            countdown = setInterval(() => {
                timeLeft--;
                updateInfoPanel(currentRound, null, timeLeft, initialDuration);
                if (timeLeft <= 5 && timeLeft > 0) { tickSound.currentTime = 0; tickSound.play(); timerDiv.classList.add('flash'); }
                if (timeLeft <= 0) { onTimeout(); }
            }, 1000);
        }
        function resetAllIntervals() {
            clearInterval(countdown);
            clearInterval(letterInterval);
            timerDiv.classList.remove('flash');
            document.querySelectorAll('.letter').forEach(l => l.remove());
            document.removeEventListener('pointermove', handleDocumentPointerMove);
            document.removeEventListener('pointerup', handleDocumentPointerUp);
        }
        function drawWheel() {
            const arc = (2 * Math.PI) / segments.length;
            ctxWheel.clearRect(0,0,canvasWheel.width,canvasWheel.height); // Gunakan ctxWheel dan canvasWheel
            for (let i = 0; i < segments.length; i++) {
                const startAngle = angle + i * arc;
                const endAngle = startAngle + arc;
                ctxWheel.beginPath();
                ctxWheel.moveTo(centerX, centerY);
                ctxWheel.arc(centerX, centerY, radius, startAngle, endAngle);
                ctxWheel.closePath();
                ctxWheel.fillStyle = segmentColors[i];
                ctxWheel.fill();
                ctxWheel.strokeStyle = 'rgba(0,0,0,0.1)';
                ctxWheel.lineWidth = 4;
                ctxWheel.stroke();
                ctxWheel.save();
                ctxWheel.translate(centerX, centerY);
                ctxWheel.rotate(startAngle + arc / 2);
                const img = loadedImages[i];
                if (img) ctxWheel.drawImage(img, radius * 0.5, -30, 60, 60); // Gunakan ctxWheel
                ctxWheel.restore();
            }
        }
        function easeOutCubic(t) { return (--t) * t * t + 1; }
        function loadImages(callback) {
            let loaded = 0;
            segments.forEach((segment, i) => {
                const img = new Image();
                img.crossOrigin = "anonymous";
                img.src = segment.img;
                img.onload = () => { loadedImages[i] = img; if (++loaded === segments.length) callback(); };
            });
        }
        function createConfetti() {
            const colors = ['#f44336', '#e91e63', '#9c27b0', '#2196f3', '#4CAF50', '#FFEB3B'];
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDuration = `${Math.random() * 2 + 1}s`;
                document.body.appendChild(confetti);
                setTimeout(() => { confetti.remove(); }, 3000);
            }
        }

        // --- EVENT LISTENERS ---
        startButton.addEventListener('click', () => {
            welcomeScreen.style.display = 'none';
            gameContainer.style.display = 'flex';
        });
        petunjukBtn.addEventListener('click', () => { petunjukModal.style.display = 'block'; });
        tujuanBtn.addEventListener('click', () => { tujuanModal.style.display = 'block'; });
        pengembangBtn.addEventListener('click', () => { pengembangModal.style.display = 'flex'; }); // Gunakan flex untuk positioning

        allCloseButtons.forEach(button => {
            button.onclick = function() {
                // Menutup modal induk dari tombol close yang di-klik
                // Dibuat lebih cerdas untuk menangani struktur modal yang berbeda
                let modalToClose = this.closest('.modal');
                if(modalToClose) {
                    modalToClose.style.display = "none";
                }

                // Reset interval jika yang ditutup adalah modal game
                if(this.closest('#myModal')) {
                    resetAllIntervals();
                }
            }
        });

        spinBtn.addEventListener('click', spin);

        window.onclick = (event) => {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = "none";
                if (event.target.id === 'myModal') {
                    resetAllIntervals();
                }
            }
        };

        // --- INISIALISASI GAME ---
        loadImages(drawWheel);

    </script>


    <script>
        // --- BARU: Logika untuk Efek 3D pada Gambar Profil ---
        const profilePicContainer = document.querySelector('.profile-pic-container');
        if (profilePicContainer) {
            const profilePic = profilePicContainer.querySelector('img');
            const maxRotate = 25; // Derajat maksimal rotasi (bisa diubah)

            profilePicContainer.addEventListener('mousemove', (e) => {
                const rect = profilePicContainer.getBoundingClientRect();
                const mouseX = e.clientX - rect.left;
                const mouseY = e.clientY - rect.top;

                // Menghitung rotasi dari -maxRotate hingga +maxRotate
                const rotateY = ((mouseX / rect.width) - 0.5) * 2 * maxRotate;
                const rotateX = (((mouseY / rect.height) - 0.5) * 2 * maxRotate) * -1;

                // Terapkan transformasi dengan sedikit pembesaran untuk efek "keluar"
                profilePic.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.1)`;
            });

            profilePicContainer.addEventListener('mouseleave', () => {
                // Kembalikan ke posisi semula saat mouse keluar
                profilePic.style.transform = 'rotateX(0deg) rotateY(0deg) scale(1)';
            });
        }
    </script>

    <script>
        // Pastikan variabel canvas dan ctx yang benar digunakan untuk latar belakang
        // Variabel global sudah didefinisikan ulang di awal skrip utama sebagai 'canvas' dan 'ctx'
        // agar tidak terjadi konflik dengan 'canvasWheel' dan 'ctxWheel'
        const numberBgCanvas = document.getElementById('numberCanvas'); // Menggunakan nama variabel yang berbeda
        const numberBgCtx = numberBgCanvas.getContext('2d'); // Konteks untuk background angka

        // Mengatur ukuran canvas agar sesuai dengan jendela browser
        function resizeNumberBgCanvas() {
            numberBgCanvas.width = window.innerWidth;
            numberBgCanvas.height = window.innerHeight;
            drawBackground(); // Menggambar ulang setelah perubahan ukuran
        }

        // Jalankan resize saat halaman dimuat dan saat ukuran jendela berubah
        window.addEventListener('load', resizeNumberBgCanvas);
        window.addEventListener('resize', resizeNumberBgCanvas);

        // Mendefinisikan warna-warna dari gambar referensi
        const colors = {
            greenishGrey: '#A4C49F', // Kiri atas
            yellow: '#F8D960',       // Tengah kiri
            orange: '#FF9F5F',       // Tengah kanan
            blueishGreen: '#8CC4C3'  // Kanan bawah
        };

        // Fungsi untuk menggambar latar belakang diagonal
 function drawBackground() {
    const width = numberBgCanvas.width;
    const height = numberBgCanvas.height;

    // Gambar warna dasar (biru kehijauan) yang akan menjadi area kanan bawah
    numberBgCtx.fillStyle = colors.blueishGreen;
    numberBgCtx.fillRect(0, 0, width, height);

    // Gambar area hijau keabu-abuan (kiri atas) dengan lengkungan
    numberBgCtx.fillStyle = colors.greenishGrey;
    numberBgCtx.beginPath();
    numberBgCtx.moveTo(0, 0);
    numberBgCtx.lineTo(width * 0.65, 0);
    // Menggunakan quadraticCurveTo untuk lengkungan
    numberBgCtx.quadraticCurveTo(width * 0.4, height * 0.3, width * 0.1, height);
    numberBgCtx.lineTo(0, height);
    numberBgCtx.closePath();
    numberBgCtx.fill();

    // Gambar area kuning (tengah kiri) dengan lengkungan
    numberBgCtx.fillStyle = colors.yellow;
    numberBgCtx.beginPath();
    numberBgCtx.moveTo(width * 0.30, 0);
    numberBgCtx.lineTo(width * 0.90, 0);
    // Menggunakan quadraticCurveTo untuk lengkungan
    numberBgCtx.quadraticCurveTo(width * 0.8, height * 0.4, width * 0.05, height);
    numberBgCtx.lineTo(width * 0.05, height); // Pastikan garis kembali ke titik bawah kiri awal kurva
    numberBgCtx.closePath();
    numberBgCtx.fill();

    // Gambar area oranye (tengah kanan) dengan lengkungan
    numberBgCtx.fillStyle = colors.orange;
    numberBgCtx.beginPath();
    numberBgCtx.moveTo(width * 0.70, 0); // Diubah dari 0.90 agar lengkungan lebih terlihat
    numberBgCtx.lineTo(width, 0);
    numberBgCtx.lineTo(width, height * 0.80);
    // Menggunakan quadraticCurveTo untuk lengkungan
    numberBgCtx.quadraticCurveTo(width * 0.7, height * 0.6, width * 0.40, height);
    numberBgCtx.closePath();
    numberBgCtx.fill();

    drawNumbers(); // Setelah latar belakang, baru gambar angka
}


        // Data angka untuk ditempatkan secara acak
        const numbersData = [


            // Tambahan angka untuk kerapatan yang lebih baik
            { num: 1, color: '#8bc34a', size: 50, rot: 0, x: 0.06, y: 0.18 },
            { num: 5, color: '#fb8c00', size: 200, rot: -15, x: 0.20, y: 0.48 },
            { num: 6, color: '#03a9f4', size: 200, rot: 10, x: 0.40, y: 0.35 },
            { num: 0, color: '#607d8b', size: 90, rot: -25, x: 0.50, y: 0.50 },
            { num: 2, color: '#ef5350', size: 200, rot: 20, x: 0.55, y: 0.60 },
            { num: 4, color: '#e91e63', size: 75, rot: -8, x: 0.35, y: 0.70 },
            { num: 8, color: '#9c27b0', size: 60, rot: 5, x: 0.85, y: 0.50 },
            { num: 9, color: '#4CAF50', size: 80, rot: 30, x: 0.85, y: 0.10 },
            { num: 3, color: '#ffeb3b', size: 60, rot: 10, x: 0.40, y: 0.90 },
            { num: 7, color: '#7cb342', size: 50, rot: 0, x: 0.65, y: 0.75 },

            // Lebih banyak angka untuk mengisi ruang
            { num: 1, color: '#FF5733', size: 70, rot: 20, x: 0.25, y: 0.03 },
            { num: 2, color: '#DAF7A6', size: 60, rot: -5, x: 0.70, y: 0.05 },
            { num: 3, color: '#FFC300', size: 80, rot: 15, x: 0.18, y: 0.88 },
            { num: 4, color: '#C70039', size: 200, rot: -10, x: 0.90, y: 0.30 },
            { num: 5, color: '#FF33FF', size: 90, rot: 25, x: 0.02, y: 0.60 },
            { num: 6, color: '#33FFCE', size: 70, rot: 0, x: 0.50, y: 0.15 },
            { num: 7, color: '#00FF00', size: 65, rot: -20, x: 0.95, y: 0.55 },
            { num: 8, color: '#8A2BE2', size: 75, rot: 10, x: 0.30, y: 0.92 },
            { num: 9, color: '#DC143C', size: 150, rot: -15, x: 0.70, y: 0.95 },
            { num: 0, color: '#40E0D0', size: 60, rot: 30, x: 0.10, y: 0.30 },

            { num: 1, color: '#FFD700', size: 50, rot: 5, x: 0.45, y: 0.20 },
            { num: 2, color: '#ADFF2F', size: 70, rot: -25, x: 0.80, y: 0.40 },
            { num: 3, color: '#00BFFF', size: 90, rot: 18, x: 0.60, y: 0.08 },
            { num: 4, color: '#FF6347', size: 85, rot: -7, x: 0.20, y: 0.55 },
            { num: 5, color: '#FFA07A', size: 60, rot: 12, x: 0.90, y: 0.70 },
            { num: 6, color: '#DA70D6', size: 75, rot: -18, x: 0.05, y: 0.45 },
            { num: 7, color: '#F08080', size: 80, rot: 22, x: 0.70, y: 0.25 },
            { num: 8, color: '#20B2AA', size: 65, rot: -30, x: 0.15, y: 0.70 },
            { num: 9, color: '#BA55D3', size: 55, rot: 8, x: 0.35, y: 0.98 },
            { num: 0, color: '#FF4500', size: 120, rot: -3, x: 0.88, y: 0.60 }
        ];

        // Fungsi untuk menggambar angka-angka
        function drawNumbers() {
            numbersData.forEach(data => {
                const x = numberBgCanvas.width * data.x; // Gunakan numberBgCanvas
                const y = numberBgCanvas.height * data.y; // Gunakan numberBgCanvas

                numberBgCtx.save(); // Simpan state canvas saat ini
                numberBgCtx.translate(x, y); // Pindahkan origin ke posisi angka
                numberBgCtx.rotate(data.rot * Math.PI / 180); // Terapkan rotasi (konversi ke radian)

                numberBgCtx.font = `bold ${data.size}px Arial`; // Gunakan Arial untuk angka

                // Efek bayangan untuk memberikan kesan 3D/terangkat
                numberBgCtx.shadowColor = 'rgba(0, 0, 0, 0.4)'; // Warna bayangan
                numberBgCtx.shadowBlur = 5; // Tingkat blur bayangan
                numberBgCtx.shadowOffsetX = 3; // Offset X bayangan
                numberBgCtx.shadowOffsetY = 3; // Offset Y bayangan

                numberBgCtx.fillStyle = data.color;
                numberBgCtx.fillText(data.num.toString(), 0, 0); // Gambar angka di origin yang baru

                numberBgCtx.restore(); // Kembalikan state canvas sebelumnya
            });
        }
    </script>

</body>
</html>
